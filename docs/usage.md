# 使用方法ガイド

## 基本的な使い方

1. **CSVファイルのアップロード**
   - アプリケーション上部の「CSVファイルをアップロード」ボタンをクリック
   - フォーマットに沿ったCSVファイルを選択（UTF-8またはShift-JISエンコーディングに対応）
   - ファイルは自動的に読み込まれ、データが表示されます

2. **カテゴリ選択**
   - 「分析する食料品カテゴリ」セレクトボックスから、分析したいカテゴリを選択
   - データセットに含まれるすべての食料品カテゴリが一覧表示されます

3. **都道府県選択**
   - 「比較する都道府県」セレクトボックスから、分析したい都道府県を選択（最大5つまで）
   - 選択した都道府県のデータが棒グラフと地図上に表示されます

4. **可視化の確認**
   - **棒グラフ**：選択した都道府県のカテゴリ別支出額を比較
   - **日本地図**：すべての都道府県の支出額をヒートマップで表示

5. **相関分析**
   - 「散布図で相関を分析」セクションを展開
   - X軸とY軸に異なる食料品カテゴリを選択
   - 散布図と相関係数が表示され、カテゴリ間の関係が分析できます

## CSVデータの形式

アップロードするCSVファイルは以下の形式に従う必要があります：

- **1行目**：ヘッダー行（カテゴリ名）
- **1列目**：都道府県名
- **その他の列**：各カテゴリの支出金額

例：
```
都道府県,米類,パン類,めん類
北海道,100,200,150
青森県,110,180,160
東京都,90,220,170
...
```

## データ分析のヒント

1. **複数都道府県の比較**
   - 隣接する都道府県や同じ地方の都道府県を選択することで、地域ごとの傾向を把握できます
   - 人口規模や気候が異なる都道府県を比較することで、環境要因の影響を分析できます

2. **相関分析の活用**
   - 正の相関関係：一方が増加すると、他方も増加する傾向
   - 負の相関関係：一方が増加すると、他方は減少する傾向
   - 相関係数は-1から1の間の値で、絶対値が大きいほど関係が強いことを示します

3. **地図表示の活用**
   - 色の濃淡で全国的な傾向を素早く把握できます
   - 地域的な特徴（例：東日本と西日本の違い）を視覚的に確認できます

## トラブルシューティング

- **CSVファイルが読み込めない場合**
  - ファイル形式が正しいか確認（カンマ区切りのCSV形式）
  - エンコーディングはUTF-8またはShift-JISが自動検出されます
  - ヘッダー行と都道府県列が含まれているか確認

- **グラフが表示されない場合**
  - データに数値以外の文字（例：「-」や空白）が含まれていないか確認
  - 選択したカテゴリのデータが存在するか確認

- **相関分析でエラーが表示される場合**
  - 選択した2つのカテゴリに十分な数値データがあるか確認
  - 異なるカテゴリを選択しているか確認